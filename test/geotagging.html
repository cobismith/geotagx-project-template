<!DOCTYPE html>
<html>
<head>
	<title>geotagx-ol.js wrapper test</title>
	<link rel="stylesheet" href="../layout/static/css/vendor/ol.css">
</head>
<body>

	<div id="ol-map" style="width:100%; height:400px"></div>
	<input id="location-selector" placeholder="Select a location and press ENTER to center the map in that region." style="margin:1em 0; width:640px;"></input>
	<div>
		<button id="get-selection">Print selected countries</button>
		<p id="selected-countries"></p>
	</div>

	<script src="js/jquery.js"></script>
	<script src="../layout/static/js/vendor/ol.js"></script>
	<script src="../layout/static/js/geotagx-ol.js"></script>
	<script>
	$(document).ready(function(){
		var map = new geotagx.ol.createMap("ol-map");

		var $locationSelector = $("#location-selector");
		$locationSelector.on("keypress", function(e){
			var keycode = (e.keyCode ? e.keyCode : e.which);
			if (keycode === 13)
				map.setLocation($locationSelector.val(), $locationSelector[0]); // The input parameter has to be a native DOM element.
		});

		$("#get-selection").on("click", function(){
			var selectedCountries = map.getSelectedCountries();
			$("#selected-countries").text(JSON.stringify(selectedCountries.getNames()));
		});
	});
	</script>
</body>
<html>
