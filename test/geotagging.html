<!DOCTYPE html>
<html>
<head>
	<title>geotagx-ol.js wrapper test</title>
	<link rel="stylesheet" href="../layout/static/css/vendor/ol.css">
	<link rel="stylesheet" href="../layout/static/css/geotagx-ol.css">
</head>
<body>
	<div id="ol-map" class="geotagx-ol-map" style="width:100%; height:400px"></div>
	<input id="location-selector" placeholder="Select a location and press ENTER to center the map in that region." style="margin:1em 0; width:640px;"></input>
	<!-- <div>
		<button id="get-selection">Print selected countries</button>
		<p id="selected-countries"></p>
	</div> -->
	<div>
		<button id="get-polygon">Print plotted polygon coordinates</button>
		<p id="polygon"></p>
	</div>
	<div>
		Example of using the Draw interaction. Select a geometry type from the dropdown above to start drawing. To finish drawing, click the last point. To activate freehand drawing for lines and polygons, hold the Shift key. Square drawing is achieved by using Circle mode with a geometryFunction that creates a 4-sided regular polygon instead of a circle. Box drawing uses a custom geometryFunction that takes start and end point of a line with 2 points and creates a rectangular box.
	</div>
	<script src="js/jquery.js"></script>
	<script src="../layout/static/js/vendor/ol.js"></script>
	<script src="../layout/static/js/geotagx-ol.js"></script>
	<script>
	$(document).ready(function(){
		var map = new geotagx.ol.Map("ol-map");

		var $locationSelector = $("#location-selector");
		$locationSelector.on("keypress", function(e){
			var keycode = (e.keyCode ? e.keyCode : e.which);
			if (keycode === 13)
				map.setLocation($locationSelector.val(), $locationSelector[0]); // The input parameter has to be a native DOM element.
		});

		// $("#get-selection").on("click", function(){
		// 	var selectedCountries = map.getSelectedCountries();
		// 	$("#selected-countries").text(JSON.stringify(selectedCountries.getNames()));
		// });

		$("#get-polygon").on("click", function(){
			var coordinates = map.getSelection();
			$("#polygon").text(JSON.stringify(coordinates));
		});
	});
	</script>
</body>
<html>
